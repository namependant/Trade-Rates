<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trade Rates</title>

  <style>
    body{
      margin:0;
      font-family: Arial, sans-serif;
      background:#f5f6f8;
      color:#111;
    }

    .wrap{
      max-width: 1200px;
      margin: 0 auto;
      padding: 22px;
    }

    h1{
      margin: 0 0 6px;
      font-size: 26px;
    }

    p{
      margin: 0 0 18px;
      color:#444;
    }

    .search{
      width:100%;
      padding: 12px 14px;
      border:1px solid #ddd;
      border-radius:10px;
      font-size:16px;
      outline:none;
      margin-bottom: 16px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }

    @media (max-width: 900px){
      .grid{ grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 600px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      background:#fff;
      border:1px solid #eee;
      border-radius:14px;
      overflow:hidden;
      cursor:pointer;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      transition: transform 0.15s ease;
    }

    .card:hover{
      transform: translateY(-2px);
    }

    .thumb{
      width:100%;
      aspect-ratio: 1 / 1;
      background:#fafafa;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }

    .thumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .label{
      padding: 10px 12px;
      font-size: 14px;
      border-top:1px solid #f0f0f0;
      color:#222;
    }

    /* Zoom modal */
    .modal{
      position: fixed;
      inset:0;
      background: rgba(0,0,0,0.85);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9999;
      padding: 18px;
    }

    .modal.open{
      display:flex;
    }

    .modal-inner{
      max-width: 95vw;
      max-height: 90vh;
      position:relative;
    }

    .modal img{
      max-width: 95vw;
      max-height: 90vh;
      border-radius: 14px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.4);
      display:block;
    }

    .close{
      position:absolute;
      top:-14px;
      right:-14px;
      width:38px;
      height:38px;
      border:none;
      border-radius:999px;
      background:#fff;
      font-size:20px;
      cursor:pointer;
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
    }

    .hint{
      margin-top: 10px;
      text-align:center;
      color:#ddd;
      font-size:13px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>Trade Rates</h1>
    <p>Click an image to zoom in.</p>

    <input class="search" id="search" placeholder="Search like: trade12 or 12" />

    <div class="grid" id="grid"></div>
  </div>

  <!-- Zoom modal -->
  <div class="modal" id="modal">
    <div class="modal-inner">
      <button class="close" id="closeBtn">×</button>
      <img id="modalImg" src="" alt="" />
      <div class="hint">Press ESC or click outside to close</div>
    </div>
  </div>

  <script>
    // ✅ change this to how many trade images you will upload:
    const TOTAL_IMAGES = 400; // trade1.jpg -> trade400.jpg

    const grid = document.getElementById("grid");
    const search = document.getElementById("search");

    const modal = document.getElementById("modal");
    const modalImg = document.getElementById("modalImg");
    const closeBtn = document.getElementById("closeBtn");

    const images = [];
    for (let i = 1; i <= TOTAL_IMAGES; i++) {
      images.push({
        i,
        name: `trade${i}.jpg`,
        src: `trade${i}.jpg`
      });
    }

    function openModal(src, name){
      modalImg.src = src;
      modalImg.alt = name;
      modal.classList.add("open");
    }

    function closeModal(){
      modal.classList.remove("open");
      modalImg.src = "";
    }

    function render(filter=""){
      grid.innerHTML = "";
      const f = filter.trim().toLowerCase();

      const list = !f ? images : images.filter(x =>
        x.name.includes(f) || String(x.i) === f.replace("trade","")
      );

      list.forEach(x => {
        const card = document.createElement("div");
        card.className = "card";

        const thumb = document.createElement("div");
        thumb.className = "thumb";

        const img = document.createElement("img");
        img.src = x.src;
        img.alt = x.name;

        img.onerror = () => {
          thumb.innerHTML = `<div style="color:#888;font-size:12px;">Missing: ${x.name}</div>`;
        };

        thumb.appendChild(img);

        const label = document.createElement("div");
        label.className = "label";
        label.textContent = x.name;

        card.appendChild(thumb);
        card.appendChild(label);

        card.addEventListener("click", () => openModal(x.src, x.name));

        grid.appendChild(card);
      });
    }

    search.addEventListener("input", (e) => render(e.target.value));
    closeBtn.addEventListener("click", closeModal);

    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });

    render();
  </script>
</body>
</html>
